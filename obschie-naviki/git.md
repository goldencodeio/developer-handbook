# Git - система контроля версий

## Установка

Скачайть и установить консольную версию Git можно [с официального сайта](//git-scm.com/downloads)

## Обучающие курсы

1. Для новичков рекомендуется пройти небольшой обучающийся курс [Git How To](//githowto.com/ru).
2. Разбираемся в том, как устроена работа в команде - [Github Flow](//guides.github.com/introduction/flow/)

## Полезные ресурсы

### Разбираемся с Git

* [Git How To](//githowto.com/ru) — это интерактивный тур, который познакомит вас с основами Git. Тур создан с пониманием того, что лучшим способом научиться чему-нибудь — сделать это своими руками.
* [Команды git](//git-scm.com/book/commands) - полный список команд на официальном сайте
* [git - the simple guide](//rogerdudler.github.io/git-guide/)
* [Ежедневная работа с Git](//habrahabr.ru/post/174467/) - статья на Хабре
* [Что нам стоит Git настроить!](//habrahabr.ru/post/164297/) - статья на Хабре

### Видео-уроки

* [Git & GitHub Tutorials](//www.youtube.com/playlist?list=PLEACDDE80A79CE8E7)

### Книги

* [Pro Git](//git-scm.com/book/ru/v2) - официальная книга Git
* [Магия Git](//dl.dropboxusercontent.com/u/281916/delete/book.pdf)

### Шпаргалки

* [GitHub Cheatsheet](//raw.githubusercontent.com/github/training-kit/master/downloads/github-git-cheat-sheet.pdf)

## Работаем с Git

### Стартуем проект с нуля:

* `git init` - инициализируем Git.
* `git add -A` - индексируем все файлы.
* `git commit -m 'chore(project): init project'` - коммитим и комментируем в соответствии с соглашением по коммитоименованию.
* `git remote add origin <url>` - добавляем удалённый репозиторий, где `<url>` - ссылка на git-репозиторий.
* `git push origin master` - заливаем проект в удалённый репозиторий в ветку `master`.
* Если залить не удалось, проект уже не пустой и может содержать `readme.md`, поэтому нужно сделать `rebase`:

  ```
    git pull --rebase origin master
  ```

* Если есть конфликты, то см. [разрешаем конфликты](#conflicts).

* Заливаем снова.

### Разворачиваем уже имеющийся проект

* `git clone <url>` - клонируем проект.

### Повседневная работа с проектом

* `git pull --rebase origin master` - обновляем ветку `master` с ключём `--rebase`, чтобы избежать промежуточных коммитов.
* Если конфликтов не произошло, то пропускаем этот пункт. Если есть, то [правим руками](#conflicts).
* Делаем изменения в коде, например, добавляем главную страницу.
* `git add -A` - индексируем изменения.
* `git commit -m 'feat(main): add main page'` - закоммитили в соответствии с соглашением по коммитоименованию.
* `git push origin master` - заливаем изменения в удалённый репозиторийй в ветку `master`.

### Разрешаем конфликты {#conflicts}

* Правим руками файлы, содержащие конфликты \(посмотреть их можно через `git status`\):

```
<<<<<<< HEAD
// 1 секция: Код текущей ветки
=======
// 2 секция: Наш изменения в коде
>>>>>>> master
```

Чтобы разрешить конфликт, нужно _внимательно_ сравнить изменения в 1 секции и добавить недостающий \(новый\) код в свою \(2 секцию\). После этого удаляем всё, кроме 2 секции.

```
// 2 секция: Наш изменения в коде
```

* После этого индексируем изменения.

  ```
  git add -A
  ```

* Далее нужно продолжить `rebase` с помощью команды:

  ```
  git rebase --continue
  ```

* Если конфликтов больше нет и `reabase` завершился, то на это всё, если конфликты есть, то повторить итерацию.

### Работаем в отдельной ветке

#### Создаём ветку

* `git pull --rebase origin master` - обновляем ветку `master` с ключём `--rebase`, чтобы избежать промежуточных коммитов.
* `git checkout -b <name>` - создаём ветку, где `<name>` - название фичи.
* Делаем изменения в коде, например, добавляем главную страницу.
* `git add -A` - индексируем изменения.
* `git commit -m 'feat(main): add main page'` - закоммитили в соответствии с соглашением по коммитоименованию.
* `git push origin <name>` - заливаем нашу ветку в удалённый репозиторий.

#### Сливаем изменения в `master`.

* Переходим в ветку `master` и сливаем в неё фичу:

  ```
    git merge <name>
  ```

* Разрешаем конфликты, если они возникли

* `git push origin master` - заливаем итоговые изменения в удалённый репозиторий.

### Полезные команды на всякий случай

* `git commit --amend` - позволяет изменить название коммита. Если нужно включить ещё и изменённые файлы, то перед этим проиндексировать файлы.
* `git reset --hard HEAD^` - полное удаление последнего коммита.



