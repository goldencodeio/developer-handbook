# Устройство цикла разработки

Цикл разработки проекта ведется с использованием подхода Github Flow.

## Управление задачами

Для управления задачами используется трекер Redmine. В Gitlab для репозитория проекта настраивается интеграция с внешним трекером задач. Подробнее про управление задачами в Redmine в отдельном разделе.

## Ветки

Ветвление существует, чтобы помочь нам управлять рабочим процессом.

Под каждую отдельную задачу, требующую внесения изменений в код, от веткиmasterотпочковывается ветка. Ветка должна быть с говорящим названием и содержать номер задачи в начале, например, 123-new-auth-page. С ней очень часто придётся работать, название должно быть запоминающимся.

При создании ветви в проекте создается среда, в которой можно опробовать новые идеи. Изменения, внесенные в ветке, не влияют на master-ветку, поэтому вы можете экспериментировать и коммитить изменения, безопасно зная, что ваша ветвь не будет объединена, пока она не будет готова к просмотру кем-то, с кем вы сотрудничаете.

## Коммиты

Как только ваша ветка создана, пришло время начать вносить изменения. Всякий раз, когда вы добавляете, редактируете или удаляете файл, вы делаете фиксацию и добавляете их в свою ветку. Этот процесс добавления фиксаций отслеживает ваш прогресс, когда вы работаете над ветвью функций. Коммитим согласно [соглашению по именованию](/soglashenie-po-imenovaniyu-kommitov.md).

## Мерж реквесты

После пуша ветки, необходимо создать мерж реквест. Мерж реквесты инициируют обсуждение ваших коммитов. С помощью системы @-нотации в сообщении вашего мерж реквеста, вы можете запросить обратную связь от конкретных людей или команд.

Если задача, для которой мерж реквест был создан, еще не решена, это необходимо отразить в названии мерж реквеста. Для этого в начале указать аббревиатуру WIP \(work in progress\), например,WIP: New auth page. Такой мерж реквест нельзя будет слить в master-ветку, пока работа по нему не будет закончена. Как только необходимый функционал будет разработан, префикс WIP можно убрать из названия, чтобы ветку можно было смержить.

Код должен соответствовать стандартам написания и проходить успешно автотесты. Для этого на каждый пуш запускается проверка на сервере непрерывной интеграции. Без успешного прохождения тестов ветка не может быть смержена.

## Релизы и деплой

Для проектов обычно доступно две площадки, демонстрирующие их работоспособность, - staging и production.

**Staging **- показывает текущее состояние master-ветки. Т.е. все изменения после мержа в master доступны к просмотру на staging окружении.

**Production **- боевое окружение показывает релиз. Релиз = tag.

